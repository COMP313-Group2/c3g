{% extends "base.html" %}

{% block title %}Index{% endblock %}

{% block head %}
  {{ super() }}
  <style>
    .important { color: #336699; }
    .card-body { margin-top: 100px;}
    .alert {list-style: none; width: 250px; text-align: center; margin: 10px auto 0px auto;}
  </style>
{% endblock %}

<!-- content should be center -->
{% block content %}
  {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
      <ul class=flashes>
      {% for category, message in messages %}
      <div class="text-center">
        <div class="alert alert-warning" role="alert">
          <li class="text-center {{ category }}">{{ message }}</li>
        </div>  
      </div>
      {% endfor %}
      </ul>
    {% endif %}
  {% endwith %}

  <div class="card w-50 mb-3 border-0" style="width: 18rem; margin: auto;">
    <div class="card-body">
      {% if 'user' in session and session['user'] %}
			  <h2 class="card-title text-center">Welcome to Titan games {{session['user'].name}}!</h2>
			{% else %}
			  <h2 class="card-title text-center">Welcome to Titan games!</h2>
      {% endif %}
      <p class="card-text">The following games are available:
				<ul>
					<li> <a href="/space_pong">Space Pong</a> </li>
					<li> <a href="/blade_runner">Blade Runner</a> </li>
					<li> <a href="/excaliburs_quest">Excalibur's Quest</a> </li>
					<li> <a href="/potato_tomato">Potato Tomato</a> </li>
				</ul>
				Here are the list of users of this website: {{users}}.
				<br>
				You may also upload your own games after signing up.
			</p>

      <div class="text-center">
          {% if 'user' in session and session['user'] %}
          <a href="logout" class="btn btn-warning">Logout</a>
          {% else %}
          <a href="signin" class="btn btn-primary">Sign In</a>
          <a href="signup" class="btn btn-success">Sign Up</a>

          {{user}}
          {% endif %}

      </div>
    </div>
  </div>
{% endblock %}

{% block footer %}
  {{ super() }}
  <!-- <p>This is the footer from the index child template</p> -->
{% endblock %}
